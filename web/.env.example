# todu-fit-web Environment Variables
# Copy this file to .env and fill in the values

# =============================================================================
# Server Configuration
# =============================================================================

# Port for the Hono server (auth, API, WebSocket proxy)
PORT=3000

# Port for the Automerge sync server (internal, not exposed to browser)
SYNC_SERVER_PORT=8080

# Internal sync server URL (used by Hono to proxy WebSocket connections)
SYNC_SERVER_URL=ws://localhost:8080

# =============================================================================
# Authentication (Task #1013)
# =============================================================================

# Admin email - bootstraps the allowlist, always allowed to login
ADMIN_EMAIL=you@example.com

# Session configuration
SESSION_SECRET=change-this-to-a-random-string
SESSION_MAX_AGE_DAYS=30

# =============================================================================
# Email / Magic Link (Task #1013)
# =============================================================================

# SMTP configuration for sending magic link emails
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM_NAME=todu-fit
SMTP_FROM_EMAIL=noreply@example.com

# Public URL for generating magic link URLs
PUBLIC_URL=http://localhost:5173

# Set to "true" to log emails to console instead of sending (dev mode)
SMTP_DEV_MODE=true

# Magic link expiration in minutes
MAGIC_LINK_EXPIRY_MINUTES=15

# =============================================================================
# WebAuthn / Passkeys (Task #1013)
# =============================================================================

# Relying Party ID - must match your domain (e.g., localhost for dev)
RP_ID=localhost

# Relying Party Name - displayed to users during passkey prompts
RP_NAME=todu-fit

# =============================================================================
# Database (Task #1013)
# =============================================================================

# Path to SQLite database file
DATABASE_PATH=./data/dev/todu-fit.sqlite

# =============================================================================
# Client Configuration (Vite)
# =============================================================================

# Sync server URL for the browser client (direct connection)
# In development: connects directly to local sync server
# In production: baked into Docker build as wss://sync.todu.sh
VITE_SYNC_URL=ws://localhost:8080
